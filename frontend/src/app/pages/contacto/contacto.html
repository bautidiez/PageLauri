<div class="contacto-page">
  <div class="container">
    <div class="page-header">
      <h1>Contacto</h1>
      <p>¬øTen√©s alguna consulta? Escribinos</p>
    </div>

    <div class="contacto-content">
      <div class="contacto-form-section">
        <h2>Env√≠anos un mensaje</h2>
        <form (ngSubmit)="enviarMensaje()" #contactoForm="ngForm" *ngIf="!enviado">
          <div class="form-group">
            <label>Nombre completo *</label>
            <input type="text" [(ngModel)]="contacto.nombre" name="nombre" #nombre="ngModel" required
              [class.invalid]="nombre.invalid && nombre.touched">
            <div class="error-text" *ngIf="nombre.invalid && nombre.touched">
              El nombre es obligatorio.
            </div>
          </div>

          <div class="form-group">
            <label>Email *</label>
            <input type="email" [(ngModel)]="contacto.email" name="email" #email="ngModel" required email
              [class.invalid]="email.invalid && email.touched">
            <div class="error-text" *ngIf="email.invalid && email.touched">
              <span *ngIf="email.errors?.['required']">El email es obligatorio.</span>
              <span *ngIf="email.errors?.['email']">Ingresa un email v√°lido.</span>
            </div>
          </div>

          <div class="form-group">
            <label>Tel√©fono *</label>
            <div class="phone-input-container">
              <div class="custom-prefix-selector" (click)="toggleDropdown()">
                <div class="selected-prefix">
                  <img [src]="'https://flagcdn.com/w20/' + getPrefijoActual().iso + '.png'"
                    [alt]="getPrefijoActual().nombre" class="flag-img">
                  <span>{{ prefijoTelefono }}</span>
                  <i class="chevron-icon">‚ñº</i>
                </div>
                <ul class="prefix-dropdown" *ngIf="dropdownAbierto">
                  <li *ngFor="let p of prefijos" (click)="seleccionarPrefijo(p.codigo)">
                    <img [src]="'https://flagcdn.com/w20/' + p.iso + '.png'" [alt]="p.nombre" class="flag-img">
                    <span>{{ p.nombre }} ({{ p.codigo }})</span>
                  </li>
                </ul>
              </div>
              <input type="tel" [(ngModel)]="contacto.telefono" name="telefono" #telefono="ngModel" required
                placeholder="358 123456" [class.invalid]="telefono.invalid && telefono.touched">
            </div>
            <div class="error-text" *ngIf="telefono.invalid && telefono.touched">
              El tel√©fono es obligatorio.
            </div>
          </div>

          <div class="form-group">
            <label>Mensaje *</label>
            <textarea [(ngModel)]="contacto.mensaje" name="mensaje" #mensaje="ngModel" rows="6" required
              placeholder="Escrib√≠ tu consulta aqu√≠..." [class.invalid]="mensaje.invalid && mensaje.touched"></textarea>
            <div class="error-text" *ngIf="mensaje.invalid && mensaje.touched">
              El mensaje es obligatorio.
            </div>
          </div>

          <button type="submit" class="btn btn-primary btn-large" [disabled]="contactoForm.invalid || enviando">
            <span *ngIf="!enviando">Enviar Mensaje</span>
            <span *ngIf="enviando">Enviando...</span>
          </button>

          <div class="error-message" *ngIf="error">
            <p>{{ error }}</p>
          </div>
        </form>

        <div class="success-message" *ngIf="enviado">
          <h3>¬°Mensaje enviado!</h3>
          <p>Gracias por contactarnos. Te responderemos a la brevedad.</p>
        </div>
      </div>

      <div class="contacto-info-section">
        <h2>Informaci√≥n de contacto</h2>

        <div class="contact-grid">
          <div class="info-card">
            <h3>üì± Tel√©fonos</h3>
            <p>+54 9 358 5164402</p>
            <p>+54 9 358 4825640</p>
          </div>

          <div class="info-card">
            <h3>üìß Email</h3>
            <p>elvestuario.r4@gmail.com</p>
          </div>
        </div>

        <div class="info-card">
          <h3>üìç Ubicaci√≥n</h3>
          <p>R√≠o Cuarto, C√≥rdoba, Argentina</p>
        </div>

        <div class="info-card">
          <h3>üïê Horario de atenci√≥n</h3>
          <p>Lunes a Viernes: 9:00 - 18:00</p>
          <p>S√°bados: 10:00 - 14:00</p>
        </div>

        <div class="social-links">
          <h3>Seguinos</h3>
          <div class="social-buttons">
            <a href="https://instagram.com/elvestuario.r4" target="_blank" rel="noopener noreferrer" class="social-btn">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" class="instagram-icon">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
              </svg>
              <span>Instagram</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
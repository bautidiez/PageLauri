<div class="home-page">
  <section class="hero">
    <div class="hero-content">
      <h1>EL VESTUARIO</h1>
      <p>Ropa deportiva de calidad para tu pasión</p>
      <a routerLink="/productos" class="btn btn-primary">Ver Productos</a>
    </div>
  </section>

  <!-- Promociones -->
  <section class="promociones-section">
    <div class="container">
      <div class="promociones-grid">
        <div class="promo-card">
          <div class="promo-icon-bn">
            <img src="/assets/etiqueta.png" alt="Transferencia" class="icon-large">
          </div>
          <h3>ABONANDO POR TRANSFERENCIA</h3>
          <p class="promo-descuento">15% de descuento</p>
        </div>

        <div class="promo-card">
          <div class="promo-icon-bn">
            <img src="/assets/envio.png" alt="Envío gratis" class="icon-large">
          </div>
          <h3>ENVIO GRATIS A TODO EL PAIS</h3>
          <p class="promo-subtitle">A partir de $150.000</p>
        </div>

        <div class="promo-card">
          <div class="promo-icon-bn">
            <img src="/assets/tarjeta.png" alt="Medios de pago">
          </div>
          <h3>TODOS LOS MEDIOS DE PAGO</h3>
          <p class="promo-medios">Efectivo | Transferencia | Tarjetas | Mercado Pago</p>
        </div>
      </div>
    </div>
  </section>

  <section class="productos-destacados">
    <div class="container">
      <h2>Productos Destacados</h2>
      <div *ngIf="loading" class="loading">No disponible</div>
      <div *ngIf="!loading && productosDestacados.length === 0" class="no-products">
        No disponible
      </div>
      <div class="products-grid" *ngIf="!loading && productosDestacados.length > 0">
        <div class="product-card" *ngFor="let producto of productosDestacados"
          [routerLink]="['/productos', producto.id]">
          <div class="product-image-container">
            <img [src]="getImagenPrincipal(producto)" [alt]="producto.nombre" class="product-image" loading="lazy">
            <div class="product-badge" *ngIf="producto.destacado">Destacado</div>
            <div class="product-badge-promo" *ngIf="producto.promociones && producto.promociones.length > 0">
              {{ producto.promociones[0].tipo_promocion_nombre }}
            </div>
            <div class="product-badge agotado" *ngIf="!producto.tiene_stock">Agotado</div>
          </div>
          <div class="product-info">
            <h3 class="product-title">{{ producto.nombre }}</h3>
            <div class="product-price-container">
              <!-- Precio original -->
              <div class="price-original"
                *ngIf="producto.precio_descuento || (producto.promociones && producto.promociones.length > 0)">
                <span class="product-price-old">${{ producto.precio_base | number:'1.2-2' }}</span>
              </div>
              <div class="price-normal">
                <span class="product-price">${{ getPrecioFinal(producto) | number:'1.2-2' }}</span>
              </div>
              <!-- Precio con transferencia (15% descuento) -->
              <div class="price-transferencia">
                <span class="price-transfer-amount">${{ getPrecioTransferencia(producto) | number:'1.2-2' }}</span>
                <span class="price-transfer-label">CON TRANSFERENCIA</span>
              </div>
              <!-- Cuotas sin interés -->
              <div class="price-cuotas">
                <span>3 CUOTAS SIN INTERÉS DE ${{ getCuota(producto) | number:'1.2-2' }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="text-center" style="margin-top: 30px;">
        <a routerLink="/productos" class="btn btn-secondary">Ver Todos los Productos</a>
      </div>
    </div>
  </section>

  <!-- Imagen promocional -->
  <section class="imagen-promo-section">
    <div class="container">
      <img src="/assets/promo1.jpg" alt="Promoción" class="promo-image" loading="lazy"
        onerror="this.style.display='none';">
    </div>
  </section>

  <!-- Sección Ofertas -->
  <!-- Sección Ofertas -->
  <section class="ofertas-section" *ngIf="mostrarSeccionOfertas">
    <div class="container">
      <h2>Ofertas Imperdibles</h2>
      <div class="products-grid">
        <div class="product-card" *ngFor="let producto of productosOfertas" [routerLink]="['/productos', producto.id]">
          <div class="product-image-container">
            <img [src]="getImagenPrincipal(producto)" [alt]="producto.nombre" class="product-image" loading="lazy">
            <div class="product-badge-promo" *ngIf="producto.promociones && producto.promociones.length > 0">
              {{ producto.promociones[0].tipo_promocion_nombre }}
            </div>
            <div class="product-badge oferta"
              *ngIf="tieneOferta(producto) && (!producto.promociones || producto.promociones.length === 0)">Oferta</div>
            <div class="product-badge agotado" *ngIf="!producto.tiene_stock">Agotado</div>
          </div>
          <div class="product-info">
            <h3 class="product-title">{{ producto.nombre }}</h3>
            <div class="product-price-container">
              <!-- Precio original tachado -->
              <div class="price-original"
                *ngIf="producto.precio_descuento || (producto.promociones && producto.promociones.length > 0)">
                <span class="product-price-old">${{ producto.precio_base | number:'1.2-2' }}</span>
              </div>
              <!-- Precio actual -->
              <div class="price-normal">
                <span class="product-price"
                  [class.discount-price]="producto.precio_descuento || (producto.promociones && producto.promociones.length > 0)">
                  ${{ getPrecioFinal(producto) | number:'1.2-2' }}
                </span>
                <span class="discount-badge"
                  *ngIf="producto.precio_descuento || (producto.promociones && producto.promociones.length > 0)">
                  -{{ getPorcentajeDescuento(producto) }}%
                </span>
              </div>
              <!-- Precio con transferencia -->
              <div class="price-transferencia">
                <span class="price-transfer-amount">${{ getPrecioTransferencia(producto) | number:'1.2-2' }}</span>
                <span class="price-transfer-label">CON TRANSFERENCIA</span>
              </div>
              <!-- Cuotas -->
              <div class="price-cuotas">
                <span>3 CUOTAS SIN INTERÉS</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="text-center" style="margin-top: 30px;">
        <a routerLink="/productos" [queryParams]="{ofertas: true}" class="btn btn-secondary">Ver Todas las Ofertas</a>
      </div>
    </div>
  </section>

  <!-- Newsletter -->
  <section class="newsletter-section">
    <div class="container">
      <h2>Nuestro Newsletter</h2>
      <p>Inscribite para recibir nuestras últimas novedades.</p>
      <form class="newsletter-form" (ngSubmit)="suscribirNewsletter()">
        <input type="text" [(ngModel)]="newsletterNombre" name="nombre" placeholder="Nombre" class="newsletter-input"
          required>
        <input type="email" [(ngModel)]="newsletterEmail" name="email" placeholder="Tu E-mail" class="newsletter-input"
          required>
        <button type="submit" class="btn btn-primary">Suscribirse</button>
      </form>
    </div>
  </section>

  <!-- Redes Sociales -->
  <section class="redes-section">
    <div class="container">
      <h3>Seguinos</h3>
      <a href="https://instagram.com/elvestuario.r4" target="_blank" class="instagram-link">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
          stroke-linejoin="round" class="instagram-icon-home">
          <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
          <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
          <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
        </svg>
        <span>Instagram</span>
      </a>
    </div>
  </section>
</div>
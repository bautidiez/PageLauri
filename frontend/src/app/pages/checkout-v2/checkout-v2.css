.checkout-v2-container {
    max-width: 1100px;
    margin: 50px auto;
    padding: 0 20px;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    color: #1a202c;
}

/* Stepper Header */
.stepper-header {
    display: flex;
    align-items: flex-start;
    justify-content: center;
    margin-bottom: 50px;
    max-width: 600px;
    margin: 0 auto 60px;
}

.step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    color: #a0aec0;
    font-size: 13px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    position: relative;
    z-index: 2;
    cursor: default;
}

.step.active {
    color: #000;
}

.step-num {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: #fff;
    border: 2px solid #e2e8f0;
    color: #a0aec0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 14px;
    transition: all 0.4s ease;
}

.step.active .step-num {
    border-color: #000;
    background: #000;
    color: #fff;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.step-line {
    flex: 1;
    height: 2px;
    background: #edf2f7;
    margin: 15px 5px 0;
    z-index: 1;
    border-radius: 2px;
    transition: background 0.4s ease;
}

.step-line.active {
    background: #000;
}

/* Layout */
.checkout-content {
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    gap: 60px;
    align-items: start;
}

.main-form {
    background: transparent;
    /* Cleaner look without box container for main form */
}

/* Section Titles */
.section-title {
    display: flex;
    align-items: center;
    width: 100%;
    font-weight: 800;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #2d3748;
    margin: 0 0 25px 0;
    padding-bottom: 15px;
    border-bottom: 2px solid #edf2f7;
}

.section-block {
    margin-bottom: 40px;
}

/* Forms & Validation */
.form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.field.full {
    grid-column: span 2;
}

.field {
    display: flex;
    flex-direction: column;
    position: relative;
}

.field input,
.field select {
    padding: 16px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    font-size: 15px;
    color: #2d3748;
    background: #fdfdfd;
    transition: all 0.2s ease;
    width: 100%;
    box-sizing: border-box;
    /* Ensure padding doesn't affect width */
    appearance: none;
    /* Remove default browser styling */
}

.field select {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23a0aec0' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 16px center;
    padding-right: 40px;
}

.field input:focus,
.field select:focus {
    outline: none;
    border-color: #000;
    background: #fff;
    box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.05);
    /* Soft highlight ring */
}

.field input::placeholder {
    color: #a0aec0;
}

/* Validation Style */
.field input.invalid,
.field select.invalid {
    border-color: #f56565;
    background-color: #fff5f5;
}

.error-msg {
    color: #e53e3e;
    font-size: 12px;
    font-weight: 600;
    margin-top: 6px;
    display: flex;
    align-items: center;
    gap: 5px;
}

.error-msg::before {
    content: '•';
    font-size: 14px;
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 14px;
    color: #4a5568;
    margin-top: 15px;
    cursor: pointer;
    user-select: none;
}

.checkbox-label input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: #000;
}

/* ZIP Row */
.zip-row {
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
}

.input-with-action {
    display: flex;
    position: relative;
    width: 100%;
}

.input-with-action input {
    padding-right: 90px;
    /* Space for button */
}

.btn-link {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    color: #3182ce;
    font-weight: 700;
    font-size: 12px;
    cursor: pointer;
    background: rgba(49, 130, 206, 0.1);
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    transition: all 0.2s;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.btn-link:hover {
    background: rgba(49, 130, 206, 0.2);
    color: #2b6cb0;
}

.btn-link:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.shipping-loading-message {
    margin-top: 10px;
    font-size: 13px;
    color: #718096;
    display: flex;
    align-items: center;
    gap: 8px;
    animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-5px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Loading Spinner */
.loading-spinner {
    display: flex;
    justify-content: center;
    padding: 20px;
    color: #718096;
    font-size: 14px;
    font-style: italic;
}

/* Shipping Options */
.shipping-options-list {
    margin-top: 25px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.shipping-option-item {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 20px;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    cursor: pointer;
    background: #fff;
    transition: all 0.2s ease;
    position: relative;
}

.shipping-option-item:hover {
    border-color: #cbd5e0;
    transform: translateY(-1px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);
}

.shipping-option-item.selected {
    border-color: #000;
    background: #fdfdfd;
    box-shadow: 0 0 0 1px #000;
    /* mimic thick border without layout shift */
}

.shipping-option-item input[type="radio"] {
    accent-color: #000;
    width: 20px;
    height: 20px;
}

.ship-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.ship-name {
    font-weight: 700;
    font-size: 15px;
    color: #1a202c;
}

.ship-time {
    font-size: 13px;
    color: #718096;
}

.ship-price {
    font-weight: 700;
    color: #1a202c;
    font-size: 15px;
}

/* Payment Accordion */
.payment-accordion {
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    overflow: hidden;
    background: #fff;
}

.payment-item {
    border-bottom: 1px solid #e2e8f0;
}

.payment-item:last-child {
    border-bottom: none;
}

/* Payment Header logic for badge positioning */
.payment-header {
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    background: #fff;
    transition: background 0.2s;
}

.radio-wrapper {
    display: flex;
    align-items: center;
    gap: 15px;
    flex: 1;
    /* Allow it to take available space */
}

/* Badge Adjustment: If we want it left of description but right of radio? 
   No, user said "left of price" or just "left". 
   Let's assume: Radio - Badge - Name - Price? Or Radio - Name - Badge - Price?
   User said: "fijate los que tiene 15%off esten a la ziquierda del precio" -> To the left of the price.
   Current structure in HTML: RadioWrapper [Input + Span(Name)] + Badge + PriceInfo.
   So Badge IS to the left of price logically in flex container.
   Maybe they want it CLOSER to the name or right after the name?
   Let's check HTML structure again.
   
   HTML:
   <label class="payment-header">
        <div class="radio-wrapper">
            <input type="radio" ...>
            <span>Transferencia</span>
        </div>
        <span class="badge">15% OFF</span>
        <span class="price-info">Pagás ...</span>
    </label>

   It is already to the left of the price. Maybe user means "Immediately to the right of the name"?
   Or "Left aligned together with payment method name"?
   Let's try to put the badge INSIDE the radio-wrapper or just margin-right auto to push price to right?
   
   Let's adjust .radio-wrapper to include the badge visually or make Badge flex-grow 0 and margin-right auto.
*/

.badge {
    font-size: 11px;
    background: #ebf8ff;
    color: #2b6cb0;
    font-weight: 700;
    padding: 4px 8px;
    border-radius: 4px;
    text-transform: uppercase;
    margin-right: 15px;
    /* Spacing from price */
    margin-left: 15px;
    /* Spacing from name */
}

.price-info {
    font-weight: 700;
    color: #2d3748;
    font-size: 14px;
    margin-left: auto;
    /* Push to right if badge flows */
}

/* New Confirmation Page Styles */
.centered-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
}

.order-id {
    font-size: 18px;
    margin-bottom: 30px;
    color: #4a5568;
}

.next-steps-container {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
}

.payment-instructions {
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 30px;
    margin-bottom: 30px;
    text-align: left;
    /* Default left */
}

.payment-instructions.centered {
    text-align: center;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
}

.payment-instructions h3 {
    margin-top: 0;
    font-size: 18px;
    border-bottom: 2px solid #edf2f7;
    padding-bottom: 15px;
    margin-bottom: 20px;
}

.bank-details-card,
.cvu-display {
    background: #f7fafc;
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
    text-align: left;
    border: 1px solid #edf2f7;
}

.cvu-display {
    text-align: center;
    font-size: 20px;
    font-weight: 800;
    letter-spacing: 1px;
    color: #2b6cb0;
}

.important-msg {
    color: #c53030;
    font-weight: 600;
    margin: 20px 0;
    padding: 10px;
    background: #fff5f5;
    border-radius: 6px;
}

.btn-whatsapp {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    background: #25d366;
    color: white;
    font-weight: 700;
    padding: 15px 30px;
    border-radius: 50px;
    text-decoration: none;
    font-size: 16px;
    transition: all 0.2s;
    box-shadow: 0 4px 6px rgba(37, 211, 102, 0.3);
}

.btn-whatsapp:hover {
    background: #128c7e;
    transform: translateY(-2px);
}

.whatsapp-buttons {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 20px;
}

.btn-whatsapp-outline {
    border: 2px solid #25d366;
    color: #25d366;
    padding: 12px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.2s;
}

.btn-whatsapp-outline:hover {
    background: #25d366;
    color: white;
}

.final-actions {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-top: 30px;
}

.note-sm {
    font-size: 12px;
    color: #718096;
    margin-top: 15px;
}

.price-info {
    font-weight: 700;
    color: #2d3748;
    font-size: 14px;
}

.payment-body {
    padding: 24px;
    background: #f8fafc;
    border-top: 1px solid #edf2f7;
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-5px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Sidebar */
.summary-sidebar {
    position: sticky;
    top: 40px;
}

.summary-card {
    background: #fff;
    padding: 30px;
    border-radius: 16px;
    border: 1px solid #e2e8f0;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.04);
}

.summary-card h3 {
    margin: 0 0 25px 0;
    font-size: 18px;
    font-weight: 800;
    color: #1a202c;
    border-bottom: 1px solid #edf2f7;
    padding-bottom: 20px;
}

.mini-items {
    margin-bottom: 25px;
    max-height: 350px;
    overflow-y: auto;
    padding-right: 5px;
    /* space for scrollbar */
}

/* Scrollbar styling for mini-items */
.mini-items::-webkit-scrollbar {
    width: 6px;
}

.mini-items::-webkit-scrollbar-thumb {
    background: #cbd5e0;
    border-radius: 3px;
}

.mini-item {
    display: flex;
    gap: 16px;
    margin-bottom: 20px;
    align-items: center;
}

.mini-item img {
    width: 56px;
    height: 56px;
    object-fit: cover;
    border-radius: 8px;
    border: 1px solid #edf2f7;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.03);
}

.mini-details {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    font-size: 13px;
    gap: 3px;
}

.mini-product-name,
.mini-details span {
    color: #4a5568;
    line-height: 1.4;
    display: block;
    max-width: 180px;
    overflow: hidden;
    text-overflow: ellipsis;
}

.mini-details span:first-child {
    font-weight: 600;
    color: #2d3748;
}

.mini-details strong {
    color: #1a202c;
    font-weight: 700;
}

.summary-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 16px;
    color: #4a5568;
    font-size: 15px;
}

.summary-row.total {
    font-size: 22px;
    font-weight: 800;
    color: #000;
    margin-top: 15px;
    align-items: flex-end;
}

.checkout-item-price {
    display: flex;
    gap: 8px;
    align-items: center;
    font-weight: 600;
}

.checkout-item-price .strikethrough {
    text-decoration: line-through;
    color: #999;
    font-size: 0.9em;
}

.checkout-item-price .final {
    color: #28a745;
}

.checkout-item-price .badge {
    background: #28a745;
    color: white;
    font-size: 0.7em;
    padding: 1px 4px;
    border-radius: 3px;
}

.summary-row.total.strikethrough {
    font-size: 15px;
    color: #a0aec0;
    text-decoration: line-through;
    margin-top: 5px;
    font-weight: 500;
}

.promo-highlight {
    background: #f0fff4;
    margin: 15px -15px;
    padding: 15px;
    border-radius: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 2px solid #2f855a;
}

.promo-title {
    color: #2f855a;
    font-weight: 700;
    font-size: 14px;
}

.promo-value {
    color: #2f855a;
    font-size: 24px;
    font-weight: 900;
}

.payment-method-promo {
    font-size: 12px;
    color: #2f855a;
    font-weight: 600;
    margin-top: 10px;
    text-align: right;
}

.summary-divider {
    height: 1px;
    background: #edf2f7;
    margin: 20px 0;
}

.transfer-promo {
    background: #f0fff4;
    color: #2f855a;
    padding: 12px;
    border-radius: 8px;
    font-size: 13px;
    margin-top: 20px;
    text-align: center;
    border: 1px solid #c6f6d5;
}

/* Buttons */
.actions {
    display: flex;
    gap: 15px;
    margin-top: 50px;
}

.btn-primary {
    background: #000;
    color: #fff;
    padding: 18px 30px;
    border: none;
    border-radius: 12px;
    font-weight: 700;
    font-size: 16px;
    letter-spacing: 0.5px;
    cursor: pointer;
    flex: 1;
    transition: all 0.2s;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.btn-primary:disabled {
    background: #cbd5e0;
    cursor: not-allowed;
    box-shadow: none;
}

.btn-primary:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
}

.btn-accent {
    background: #2b6cb0;
    /* Changed from red to blue or green as it's 'positive' action */
    color: #fff;
    padding: 18px 30px;
    border: none;
    border-radius: 12px;
    font-weight: 800;
    font-size: 16px;
    cursor: pointer;
    width: 100%;
    transition: all 0.2s;
    box-shadow: 0 4px 12px rgba(43, 108, 176, 0.3);
}

.btn-accent:hover:not(:disabled) {
    background: #2c5282;
    transform: translateY(-2px);
}

.btn-secondary {
    background: transparent;
    color: #4a5568;
    border: 2px solid #e2e8f0;
    padding: 15px 30px;
    border-radius: 12px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-secondary:hover {
    background: #fff;
    color: #000;
    border-color: #000;
}

/* Success Step specific */
.success-screen {
    text-align: center;
    background: #fff;
    padding: 60px 40px;
    border-radius: 16px;
    border: 1px solid #edf2f7;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.03);
}

.success-icon {
    font-size: 64px;
    margin-bottom: 25px;
    animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes popIn {
    from {
        transform: scale(0);
        opacity: 0;
    }

    to {
        transform: scale(1);
        opacity: 1;
    }
}

/* Coupon Button Style */
.coupon-input-group {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}

.coupon-input-group input {
    flex: 1;
    padding: 12px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    font-size: 14px;
}

.btn-coupon {
    background: #000;
    color: #fff;
    padding: 0 25px;
    height: 48px;
    border: none;
    border-radius: 8px;
    font-weight: 700;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
}

.btn-coupon:hover {
    background: #2d3748;
    transform: translateY(-1px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.btn-coupon:active {
    transform: translateY(0);
}

.btn-coupon:disabled {
    background: #a0aec0;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

/* Cleaned up redundant btn-coupon styles */

@media (max-width: 900px) {
    .checkout-content {
        grid-template-columns: 1fr;
        gap: 40px;
    }

    .summary-sidebar {
        order: -1;
        position: static;
        margin-bottom: 30px;
    }

    .actions {
        flex-direction: column-reverse;
        /* Volver below Continue */
        gap: 15px;
    }

    .btn-secondary {
        width: 100%;
        border: none;
        /* Make generic 'back' link style on mobile */
        text-decoration: underline;
        padding: 10px;
    }
}
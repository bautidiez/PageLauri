<div class="admin-container">
    <div class="header-section">
        <h2>üì¢ Enviar Newsletter</h2>
        <p class="subtitle">Cre√° y envi√° campa√±as de email marketing a tus suscriptores.</p>
    </div>

    <div class="newsletter-grid">
        <div class="compose-card">
            <div class="form-group">
                <label>Asunto del Correo</label>
                <input type="text" [(ngModel)]="subject" placeholder="Ej: ¬°Llegaron nuevos ingresos! üöÄ">
            </div>

            <div class="form-group">
                <label>Mensaje (HTML o Texto)</label>
                <textarea [(ngModel)]="content" rows="12" placeholder="Escrib√≠ tu mensaje aqu√≠..."></textarea>
                <small class="hint">Pod√©s usar etiquetas HTML simples como &lt;b&gt;, &lt;br&gt;, &lt;h1&gt;.</small>
            </div>
        </div>

        <div class="actions-card">
            <h3>Acciones</h3>

            <div class="test-section">
                <label>Email de Prueba</label>
                <input type="email" [(ngModel)]="testEmail" placeholder="tu@email.com">
                <button class="btn-test" (click)="send(true)" [disabled]="isLoading">
                    üß™ Probar Env√≠o
                </button>
            </div>

            <div class="divider"></div>

            <div class="send-section">
                <p class="warning-text">‚ö†Ô∏è Cuidado: Esto enviar√° el correo a todos los clientes suscritos.</p>
                <button class="btn-send-all" (click)="send(false)" [disabled]="isLoading">
                    ‚úàÔ∏è Enviar a TODOS
                </button>
            </div>

            <div *ngIf="lastStats" class="stats-box success">
                <h4>√öltimo Env√≠o:</h4>
                <p>Enviados: <strong>{{ lastStats.sent_count }}</strong> / {{ lastStats.total_targets }}</p>
            </div>
        </div>
    </div>
</div>